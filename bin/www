#!/usr/bin/env node
// author: HoochDeveloper

// this will works as our main, all the services and configuration should be set here

// creating connection to the MPD daemon
var mpdPort = 6600;
var mpdHost = 'localhost';
var mpdDirectController = require('../controllers/controller-mpd');
mpdDirectController.init(mpdPort,mpdHost);

/*
// initializing MPD interfce. This will listen for all MPD third parties clients
var mdpInterfacePort = 6500;
var mpdInterfaceHost = '0.0.0.0';
var mpdThirdPatiesInteface = require('../controllers/interface-mpd')(mdpInterfacePort,mpdInterfaceHost,volumioCore);
*/

// initializing the main server module
var main = require('../server');
var app = main.app;
app.set('port', 3000);
var server = app.listen(app.get('port'), function() {
	  console.log('Express server listening on port ' + server.address().port);
});

var InterfaceWebUI = new (require('../controllers/interface-webUI.js'))(server);
var arrayInterfaces = [InterfaceWebUI];

var CorePlayQueue = new (require('../controllers/core-playqueue'))();

var CoreCommandRouter = new (require('../controllers/core-commandrouter'))(arrayInterfaces, CorePlayQueue);


